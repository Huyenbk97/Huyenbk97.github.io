{"version":3,"sources":["assets\\Scripts\\BulletBossMove.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Label)\n    label: cc.Label = null;\n    @property(cc.Node)\n    Ship: cc.Node = null; \n    @property\n    rate: number = 0;\n    @property\n    spin: number = 0;\n    @property\n    rotation: number = 0;\n    @property\n    speed: number = 0;\n    @property\n    game: number = 0;\n    @property\n    delay: number = 3;\n    @property(cc.Prefab)\n    bulletBoss: cc.Prefab = null;\n    // LIFE-CYCLE CALLBACKS:\n    @property(cc.Node)\n   boss:cc.Node=null;\n    onLoad() {\n        this.Ship.on(cc.Node.EventType.TOUCH_START, function (event) {\n            this.game += 1\n            if (this.game == 1) {\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 2);\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40,5);\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 6);\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 20);\n            }\n        }, this);\n        this.Ship.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            this.game += 1\n            if (this.game == 1) {\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 2);\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 7);\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 14);\n                this.schedule(function () {\n                    // Here `this` is referring to the component\n                    this.initBullet();\n                }, this.rate, 40, 20);\n            \n    }\n     }, this);  \n            \n    }\n    \n\n    start () {\n\n    }\n    initBullet() {\n        if (window.matchMedia(\"(orientation: landscape)\").matches) {\n            let node = cc.instantiate(this.bulletBoss);\n            node.parent = this.node.parent;\n            //node.position = this.offset.add(this.node.position);\n            var pos = this.boss.getPosition();\n            node.setPosition(cc.v2(pos.x+10, pos.y - 100))\n            node.setScale(0.3,0.3)\n            node.rotation = this.rotation;\n            let endPoint = cc.v2();\n            endPoint.x = cc.winSize.height * Math.sin(this.rotation / 180 * Math.PI);\n            endPoint.y = cc.winSize.height * Math.cos(this.rotation /180 * Math.PI);\n            let distance = endPoint.sub(node.position).mag();\n            let duration = distance / this.speed;\n            let moveBy = cc.moveBy(duration, endPoint);\n            let removeSelt = cc.removeSelf();\n            let sequence = cc.sequence(moveBy, removeSelt);\n            node.runAction(sequence); \n        }\n        if (window.matchMedia(\"(orientation: portrait)\").matches) {\n            let node = cc.instantiate(this.bulletBoss);\n            node.parent = this.node.parent;\n            //node.position = this.offset.add(this.node.position);\n            var pos = this.boss.getPosition();\n            node.setPosition(cc.v2(pos.x+10, pos.y - 200))\n            node.setScale(0.5,0.5)\n            node.rotation = this.rotation;\n            let endPoint = cc.v2();\n            endPoint.x = cc.winSize.height * Math.sin(this.rotation / 180 * Math.PI);\n            endPoint.y = cc.winSize.height * Math.cos(this.rotation /180 * Math.PI);\n            let distance = endPoint.sub(node.position).mag();\n            let duration = distance / this.speed;\n            let moveBy = cc.moveBy(duration, endPoint);\n            let removeSelt = cc.removeSelf();\n            let sequence = cc.sequence(moveBy, removeSelt);\n            node.runAction(sequence); \n        }\n    \n    }\n    update(dt) {\n        if (this.spin===0) {\n            return;  \n        }\n        this.rotation += dt * this.spin;\n        if (this.rotation==0) {\n            this.node.destroy();\n        }\n    }\n}\n"]}