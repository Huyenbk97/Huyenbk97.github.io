{"version":3,"sources":["assets\\Scripts\\GameController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameUIcontroller from \"./GameUIcontroller\";\nimport Test from \"./Test\";\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class GameController extends cc.Component {\n    static Instance: GameController = null;\n    @property\n    numOfEnemy: number =47;\n    @property(cc.Node)\n    popup: cc.Node = null;\n    @property(cc.Node)\n    popupopen: cc.Node = null;\n    @property(cc.Node)\n    text: cc.Node = null;\n    @property(cc.Node)\n    Boss2: cc.Node = null;\n    @property(cc.Node)\n    play: cc.Node = null;\n    @property(cc.Node)\n    Ship: cc.Node = null;\n    @property(cc.Node)\n    moveHand: cc.Node = null;\n    @property\n    enemyemty = false\n    @property\n    bossemty=false\n    @property(cc.Node)\n    boss2: cc.Node = null;\n    @property(cc.Node)\n    iconGame: cc.Node = null;\n    @property(cc.Node)\n    initBulletPosition:cc.Node=null;\n    // @property()\n    @property(cc.Prefab)\n    shipBullet: cc.Node = null;\n    @property(cc.Prefab)\n    sheild: cc.Node = null;\n    @property\n    sheildNumber: number = 0;\n    @property\n    wight: number = 0;\n    @property\n    height: number = 0;\n    @property\n    wightBf: number = 0;\n    @property\n    heightBf: number = 0;\n    @property\n    enemyemty1: number = 9;\n    @property\n    setPositionDoc: boolean = true;\n    @property\n    setPositionNgang: boolean =true;\n    @property({\n        type:cc.AudioClip\n      })\n    Victory = null;\n    @property({\n        type:cc.AudioClip\n      })\n     backgroundSound =null;\n    onLoad() {\n        this.wight = screen.width;\n        this.height = screen.height;\n        var manager= cc.director.getCollisionManager();\n        manager.enabled = true;\n        cc.audioEngine.play(this.backgroundSound, true,0.5);\n    }\n    start() {\n    }\n\n    setTouch() {\n        this.Ship.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            var pos_ship = this.Ship.getPosition()\n            var pos_move = event.getDelta();\n            this.Ship.setPosition(cc.v2(pos_ship.x+pos_move.x,pos_move.y+pos_ship.y))\n        }, this);\n    }\n    delay() {\n        this.node = cc.find(\"Canvas\");\n        this.node.on(cc.Node.EventType.TOUCH_START, this.clickPopup);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.clickPopup);\n        this.scheduleOnce(this.clickPopup, 3);\n    }\n    decreaseEnemy() {\n        this.numOfEnemy-=1;\n        console.log(this.numOfEnemy);\n        if (this.numOfEnemy == 0) {\n            this.showPopup();\n        }\n    }\n    InitBullet(){\n        var bullet = cc.instantiate(this.shipBullet);\n        var pos = this.initBulletPosition.getPosition();\n        bullet.setPosition(cc.v2(pos.x,pos.y+this.initBulletPosition.height/2))\n        bullet.parent = this.initBulletPosition;\n\n    }   \n\n    spawShield(x,y) {\n        this.sheildNumber++\n        if (this.sheildNumber<=2) {\n            var shield = cc.instantiate(this.sheild)\n            shield.setPosition(x,y);\n            this.node.parent.addChild(shield); \n        }\n        \n    }\n    showPopup() {\n        cc.audioEngine.playEffect(this.Victory,false);  \n        var action = cc.moveBy(0.5, 0, 1000);\n        var seq = cc.sequence(cc.moveBy(0.5, 0, 1000), cc.hide());\n        this.Ship.runAction(seq);\n        GameUIcontroller.Instance.showBanner();\n    }\n    clickPopup() {\n            if (cc.sys.os == cc.sys.OS_ANDROID) {\n               cc.sys.openURL(\"https://play.google.com/store/apps/details?id=com.alien.shooter.galaxy.attack&hl=vi&gl=US\");\n             } else {\n                cc.sys.openURL(\"https://apps.apple.com/us/app/galaxy-attack-alien-shooter/id1176011642\");\n             }\n    }  \n    update() {\n   \n        if (window.matchMedia(\"(orientation: portrait)\").matches) { \n            if (screen.width==375) {\n                this.iconGame.setScale(0.8, 0.8);\n                 this.play.setScale(0.8, 0.8);\n                this.text.setScale(0.8, 0.8);\n                this.text.setPosition(8.234, -55.209)\n             \n            }\n            else {\n                this.Boss2.setScale(0.9,0.9)\n                 this.iconGame.setScale(1, 1); \n                 this.play.setScale(0.9, 0.9);\n                this.text.setScale(1, 1);\n                this.text.setPosition(8.234, -55.209)\n            }\n            this.node = cc.find(\"Canvas/resize\");\n        //     this.node.setScale(1.9, 1.9);\n            this.node.setScale(1, 1);\n            this.Ship.setScale(0.6,0.6)\n         \n            if (this.setPositionDoc==false) {\n                this.Ship.setPosition(16, -382.86);\n                this.setPositionNgang = false;\n                this.setPositionDoc = true;              \n            }        \n        }\n        if (window.matchMedia(\"(orientation: landscape)\").matches) { \n            this.node = cc.find(\"Canvas/resize\");\n            this.node.setScale(0.4, 0.4);\n            this.node.setPosition(21,-10)\n            this.play.setPosition(-236.899,-148.714)\n            this.play.setScale(0.4, 0.4);\n            this.iconGame.setPosition(239,-134)\n            this.iconGame.setScale(0.4, 0.4);\n            this.text.setScale(0.5, 0.5);\n            this.text.setPosition(8.234, -10)\n            this.Ship.setScale(0.3, 0.3);\n            this.Boss2.setScale(0.4,0.4)\n            if (this.setPositionNgang==false) {\n                this.Ship.setPosition(8.808,-144.453)\n                this.setPositionNgang = true;\n                this.setPositionDoc = false;  \n            }  \n        }\n    }\n}\n"]}