{"version":3,"sources":["assets\\Scripts\\Boss.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n@ccclass\nexport default class Boss extends cc.Component {\n    static Instance: Boss = null;\n    @property(cc.AudioClip)\n    ExpolosionBoss = null;\n    @property\n    duration: number = 0;\n    @property\n    moveAmountX:number = 300;\n    @property\n    moveAmountY: number = 75;\n    moveEnemy:cc.ActionInterval;\n    @property(cc.Prefab)\n    BulletBoss: cc.Prefab = null;\n    @property(cc.Sprite)\n    hp: cc.Sprite = null;\n    @property\n    ShootFrequency: number = 3.0;\n    @property\n    enemyLife: number = 200;\n    @property\n    progress: number = 1;\n    @property\n    game: number = 0;\n    @property\n    gameStar: boolean = false;\n    @property\n    enemyClear: boolean = false;\n    @property\n    bossClear: boolean = false;\n    @property\n    playAnimation: boolean = true;\n    @property(cc.Prefab)\n    explosion: cc.Node = null;\n    @property(cc.Node)\n    Ship: cc.Node = null;\n    @property(cc.Node)\n    Boss: cc.Node = null;\n    @property(cc.Node)\n    text: cc.Node = null;\n    @property(cc.Node)\n    cavas: cc.Node = null;\n    @property(cc.Node)\n    explotion: cc.Node=null;\n    @property(cc.Node)\n    redDes: cc.Node = null;\n    @property(cc.Node)\n    bgBlack: cc.Node = null;\n    @property(cc.Prefab)\n    explosion1: cc.Node = null;\n    @property\n    enemyNumber: number = 9;\n    @property\n    shieldHp: number = 10;\n    @property\n    BossHp: number = 10;\n    @property\n    BossMove: number = 10;\n    @property(cc.Node)\n    textHand: cc.Node = null; \n    @property(cc.Node)\n    redDis: cc.Node = null; \n    @property(cc.Prefab)\n    expolosionNode: cc.Node = null;\n    @property({\n        type:cc.AudioClip\n    })\n    Boss_explosion = null;\n    @property(cc.AnimationClip)\n    no2: Animation=null;\n    onLoad() {\n        \n        Boss.Instance = this;\n        var manager= cc.director.getCollisionManager();\n        manager.enabled = true;\n           \n    }\n    open() {\n        var manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n       //this.moveEnemy = this.setMove();\n        //this.node.runAction(this.moveEnemy);\n        this.schedule(this.spawnBullet, 3, cc.macro.REPEAT_FOREVER, 3.0);  \n    }\n    setMove() {\n    }\n    spawnBullet() {\n\n    this.enemyNumber--\n    //console.log(this.enemyNumber);\n    if (this.enemyNumber==0) {\n        //console.log(\"enemyNumber==0\");\n        this.enemyClear = true;\n    }\n    if (this.enemyNumber == 4) {   \n        if (window.matchMedia(\"(orientation: portrait)\").matches) {\n     \n                // Here `this` is referring to the component\n               \n                try {\n                    \n                var Bullet = cc.instantiate(this.BulletBoss);\n                Bullet.setPosition(this.node.position.x , this.node.position.y);\n                this.node.addChild(Bullet);\n                this.schedule(this.spawnBullet, 2, cc.macro.REPEAT_FOREVER, 2);\n          \n        } catch (error) {\n                    \n        }\n        }\n        if (window.matchMedia(\"(orientation: landscape)\").matches) { \n            var Bullet = cc.instantiate(this.BulletBoss);\n            Bullet.setPosition(this.node.position.x=30, this.node.position.y-200);\n            this.node.addChild(Bullet);\n            this.schedule(this.spawnBullet,1.5, cc.macro.REPEAT_FOREVER, 2);\n        }\n} \n}\n    onCollisionEnter(otherCollider, selfCollider) {\n        this.redDes.getComponent(cc.Animation).play('shakeCamera');\n        otherCollider.node.destroy();\n        if (selfCollider.name==\"boss_worldcup_bullet_4<BoxCollider>\") {\n            this.redDes.getComponent(cc.Animation).play('shakeCamera'); \n            this.redDis.active = true;\n            this.redDis.getComponent(cc.Animation).play('effectRed');\n        }\n        if (selfCollider.name == \"Boss<PolygonCollider>\") {\n            if (this.enemyNumber <= 2) {\n                this.BossHp--;\n                this.shieldHp--;\n                if (this.shieldHp == 40) {\n                     //var action = cc.fadeOut(1.5);\n                    this.node.getChildByName('Giap1').active=false;\n                    this.node.getChildByName('Giap2').active=false;\n                }\n                if (this.BossHp == 0) {\n                    this.bossClear = true;\n                    // var explosion = cc.instantiate(this.expolosionNode);\n                    // explosion.setPosition(selfCollider.node.position);\n                    this.node.destroy();\n                    cc.audioEngine.playEffect(this.ExpolosionBoss, false);\n                    // this.node.parent.addChild(explosion)\n                    this.explotion.active=true;\n                 \n                    this.explotion.getComponent(cc.Animation).play('no2');\n                   \n                    //this.redDes.getComponent(cc.Animation).play('shakeCamera'); \n                   \n                    if (this.enemyNumber <= 2) {\n                        if (window.matchMedia(\"(orientation: portrait)\").matches) {\n                            var move = cc.moveTo(1, 10, 277)\n                            this.Boss.runAction(move);\n                            this.node.parent.parent.getComponent('GameController').delay();\n                            this.node.parent.parent.getChildByName('Ship').getComponent('Ship').endCard();\n                        }               \n                        if (window.matchMedia(\"(orientation: landscape)\").matches) { \n                            var move = cc.moveTo(1, 8, 100)\n                            this.Boss.runAction(move);\n                            this.node.parent.parent.getComponent('GameController').delay();\n                            this.node.parent.parent.getChildByName('Ship').getComponent('Ship').endCard();\n                        }\n                      \n                  \n                    }\n                }\n          \n            }\n       \n        } }\n\n    openStore() {  \n            \n         \n               \n    }\n    opendelay() {\n        this.schedule(this.openStore, 2);\n    }\n    \n    clickPopup() {\n            if (cc.sys.os == cc.sys.OS_ANDROID) {\n              cc.sys.openURL(\"https://play.google.com/store/apps/details?id=com.alien.shooter.galaxy.attack&hl=vi&gl=US\");\n            } else {\n                cc.sys.openURL(\"https://apps.apple.com/us/app/galaxy-attack-alien-shooter/id1176011642\");\n            }\n    }\n    explosionRun(){   \n        var explosion =this.node.getPosition();\n        var explosionRun = cc.instantiate(this.explosion);\n        this.node.parent.addChild(explosionRun);\n        explosionRun.setPosition(this.node.position.x,this.node.position.y);\n        var animation = explosionRun.getComponent(cc.Animation);\n        animation.on('finished',this.onFinished, explosionRun);\n    }\n    start () {\n    }\n    update(dt) {\n        this.setMove();\n     }\n}\n      "]}